var wirerrd_numbytes = stream 
    |from()
    	.database('freifunk')
	.retentionPolicy('l1')
	.measurement('wirerrd_numbytes')
	.groupBy(*)
    |window()
    	.period(1m)
	.every(1m)
	.align()
    |mean('value')
    	.as('wirerrd_numbytes')
var wirerrd_numpackets = stream 
    |from()
    	.database('freifunk')
	.retentionPolicy('l1')
	.measurement('wirerrd_numpackets')
	.groupBy(*)
    |window()
    	.period(1m)
	.every(1m)
	.align()
    |mean('value')
    	.as('wirerrd_numpackets')

wirerrd_numbytes
    |join(wirerrd_numpackets)
	.as('wirerrd_numbytes', 'wirerrd_numpackets')
	.fill('null')
    |influxDBOut()
        .database('freifunk')
        .retentionPolicy('l1')
        .measurement('wirerrd')
        .precision('s')

